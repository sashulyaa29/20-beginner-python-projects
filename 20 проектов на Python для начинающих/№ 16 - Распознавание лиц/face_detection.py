# ===============================================================
#                     –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É
# ===============================================================
# ‚ö† –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –ø–æ Python:
# OpenCV –º–æ–∂–µ—Ç –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –Ω–∞ —Å–∞–º—ã—Ö –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Python
# (–Ω–∞–ø—Ä–∏–º–µ—Ä, 3.14.x). –ù–∞–¥—ë–∂–Ω—ã–µ –≤–µ—Ä—Å–∏–∏: Python 3.10 –∏–ª–∏ 3.11.
#
# 1. –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
#    python -m venv my_env
#
#    ‚Ä¢ Windows:     my_env\Scripts\activate
#    ‚Ä¢ Linux/macOS: source my_env/bin/activate
#
# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
#    pip install -r requirements.txt
#    (opencv-python)
#
# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç:
#    python face_detection.py
#
# –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø–æ—è–≤–∏—Ç—Å—è –æ–∫–Ω–æ —Å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–º–∏ –ª–∏—Ü–∞–º–∏,
# –∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ face_detected.jpg.
#
# –°–∫—Ä–∏–ø—Ç –º–æ–∂–µ—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å –ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∏—Ü,
# –µ—Å–ª–∏ –æ–Ω–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä—É–ø–Ω—ã–µ –∏ —Ö–æ—Ä–æ—à–æ –≤–∏–¥–Ω—ã –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏.
#
# P.S. –ù–∞ —Ñ–æ—Ç–æ ‚Äî —Å—Ç—Ä–∏–º–µ—Ä dasha228play ü´∂üèª‚ù§Ô∏è
# –ü–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å: https://www.twitch.tv/dasha228play
# ===============================================================

import cv2

face_cascade = cv2.CascadeClassifier("haarcascade_frontalface_default.xml")
img = cv2.imread("images/test.jpg")
gray = cv2.cvtColor(img, cv2.COLOR_RGB2GRAY)
faces = face_cascade.detectMultiScale(gray, 1.1, 4)

for (x, y, w, h) in faces:
   cv2.rectangle(img, (x, y), (x + w, y + h), (225, 0, 0), 2)

cv2.imshow("img", img)
cv2.waitKey()
cv2.imwrite("face_detected.jpg", img)